---
title: Maintaining A Package Repository
lang: en
---

# Maintaining A Package Repository

## Github Based Packages
PPKG offers the [`Update-PPKGManifest`](cmdlets/Update-PPKGManifest.md) cmdlet for automatically updating a package manifest for packages that download from github releases.

The cmdlet looks for the `githubPattern` field of a pcakages x32 and x64 fields.
If the field exists, the Github REST API will be probed for the latest release of the package, where the user/org and the repository name are extracted from the packages URL in the x32 or x64 fields.

If the version obtained from the API call does not match the current version, the package is updated:
- The `version` field is replaced with the newly obtained version.
- `x32.url` and `x64.url` will be set to the value generated by replacing `${version}` in the corresponding `githubPattern` fields with the newly found version.
- By default, the files will be downloaded to calculate their hashes and the fields `x32.hash` and `x64.hash` updated accordingly.

To skip downloading the files, use the `-noHash` flag. However, the file hashes will be set to null in this case.

The manifests are updated in-place. It's advised to keep the manifests in version control in case of failure.

Note that, using the `Update-PPKGManifest` command will downgrade a manifest if github returns a version smaller than the current version.
The justification for this behaviour is that, usually when a release vanishes from github it's intentional, perhaps because of a security bug.
